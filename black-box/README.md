# DecisionTable 决策表测试

航空公司有如下规定：

    - 中国去欧美的航线所有座位都有食物供应。每个座位都可以播放电影
    - 中国去非欧美的国外航线都有食物供应，只有商务仓可以播放电影
    - 中国国内的航班的商务仓有食物供应，但是不可以播放电影
    - 中国国内的航班的经济仓除非飞行时间大于2小时就有食物供应，但是不可以播放电影

**1. 等价类划分**

```
A1={航线为国外欧美航线}
A2={航线为国外非欧美航线}
A3={航线为国内航线}
P1={舱位为经济舱}
P2={舱位为商务舱}
T1={飞行时间大于2小时}
T2={飞行时间不大于2小时}
```

**2. 列出条件桩**

```
    C1：航线为{A1,A2,A3}之一
    C2：舱位为{P1,P2}之一
    C3：飞行时间为{T1,T2}之一
```

**3. 列出动作桩**

```
    A1：食物供应
    A2：电影播放
```

**4. 初始化决策表**  
动作桩组合的笛卡尔积

| 条件\编号 | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  | 11  | 12  |
| --------- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 航线      | A1  | A1  | A1  | A1  | A2  | A2  | A2  | A2  | A3  | A3  | A3  | A3  |
| 舱位      | P1  | P1  | P2  | P2  | P1  | P1  | P2  | P2  | P1  | P1  | P2  | P2  |
| 时间      | T1  | T2  | T1  | T2  | T1  | T2  | T1  | T2  | T1  | T2  | T1  | T2  |
|           |     |     |     |     |     |     |     |     |     |     |     |     |
| 动作\编号 | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  | 11  | 12  |
| 食物      | ✅  | ✅  | ✅  | ✅  | ✅  | ✅  | ✅  | ✅  | ✅  |     | ✅  | ✅  |
| 电影      | ✅  | ✅  | ✅  | ✅  |     |     | ✅  | ✅  |     |     |     |     |

合并条件
当两个条件对应的动作一样,而且条件也很相似,就能合并
比如,条件 1,2,舱位无论 T1 还是 T2,动作都一样

| 条件\编号 | 1   | 2   |
| --------- | --- | --- |
| 航线      | A1  | A1  |
| 舱位      | P1  | P1  |
| 时间      | T1  | T2  |
|           |     |     |
| 动作\编号 | 1   | 2   |
| 食物      | ✅  | ✅  |
| 电影      | ✅  | ✅  |

合并成
| 条件\编号 | 1 |
| --------- | --- |
| 航线 | A1 |
| 舱位 | P1 |
| 时间 | - |
| | |
| 动作\编号 | 1 |
| 食物 | ✅ |
| 电影 | ✅ |

最后合并结果

| 条件\编号 | 1   | 2   | 3   | 4   | 5   | 6 |
| --------- | --- | --- | --- | --- | --- |---|
| 航线      | A1  | A2  | A2  | A3  | A3  | A3 |
| 舱位      | -   | P1  | P2  | P1  | P2  | P1 |
| 时间      | -   | -   | -   | T1  | -   | T2 |
|           |     |     |     |     |     |    |
| 动作\编号 | 1   | 2   | 3   | 4   | 5   |    |
| 食物      | ✅  | ✅  | ✅  | ✅  | ✅  |   |
| 电影      | ✅  |     | ✅  |     |     |   |

**5. 根据判定表设计用例**

| 编号\条件 | 航线   | 时间 | 舱位   | 期望结果        |
| --------- | ------ | ---- | ------ | --------------- |
| 1         | 欧美   | 3    | 经济舱 | ["食物","电影"] |
| 2         | 非欧美 | 3    | 经济舱 | ["食物"]        |
| 3         | 非欧美 | 3    | 商务舱 | ["食物","电影"] |
| 4         | 国内   | 3    | 经济舱 | ["食物"]        |
| 5         | 国内   | 3    | 商务舱 | ["食物"]        |
